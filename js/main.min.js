jQuery(function(t){function e(e){t(".error").css("display","none");var r=e.coords.latitude,n=e.coords.longitude;t.getJSON("https://maps.googleapis.com/maps/api/geocode/json?latlng="+r+","+n+"&sensor=false",function(e){function a(t){var e=new Date(1e3*t),r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return r[e.getDay()]}function o(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function s(){return(i="metric")?" &deg;C":" &deg;F"}var i,c=["BS","BZ","KY","PW","US"];i=-1==c.indexOf(e.results[0].address_components[5].short_name)?"si":"us",t(".location h2").html(e.results[0].address_components[2].long_name),t(".location h3").html(e.results[0].address_components[5].long_name),t.get("https://api.forecast.io/forecast/b421d301ce7ef50d4a9d6e02ff0373ed/"+r+","+n+"?units="+i,function(e){t(".curr-wthr .temp h1").html(Math.floor(e.currently.temperature)+"<span>"+s()+"</span>"),t(".curr-wthr-state .icon img").attr("src","images/icons/"+e.currently.icon+".svg"),t(".curr-wthr-state .description").html(o(e.currently.summary)),t(".daily .day").each(function(r){var r=r+1;t(this).children(".heading").html(a(e.daily.data[r].time)),t(this).children(".icon").children("img").attr("src","images/icons/"+e.daily.data[r].icon+".svg"),t(this).children(".temp").html(Math.floor((e.daily.data[r].temperatureMin+e.daily.data[r].temperatureMax)/2)+s())})},"jsonp")})}function r(){t(".error").css("display","flex")}navigator.geolocation.getCurrentPosition(e,r)});
